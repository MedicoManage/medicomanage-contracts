<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Agreement - Digital Contract</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Times New Roman', serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 20px;
        }
        .header h1 {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        .parties {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .party {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            background-color: white;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        .form-group input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #bdc3c7;
            border-radius: 4px;
            font-size: 14px;
        }
        .contract-content {
            margin: 30px 0;
            text-align: justify;
        }
        .contract-content h3 {
            color: #2c3e50;
            margin: 25px 0 15px 0;
            font-size: 18px;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 5px;
        }
        .signature-section {
            margin-top: 40px;
            border-top: 2px solid #2c3e50;
            padding-top: 30px;
        }
        .signature-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 20px;
        }
        .signature-box {
            flex: 1;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            padding: 20px;
            background-color: #fafafa;
        }
        .signature-pad {
            width: 100%;
            height: 120px;
            border: 1px solid #bdc3c7;
            border-radius: 3px;
            background-color: white;
            cursor: crosshair;
        }
        .btn-submit {
            background-color: #27ae60;
            color: white;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn-clear {
            background-color: #e74c3c;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MEDICOMANAGE (PTY) LTD</h1>
            <h2>MEMORANDUM OF AGREEMENT</h2>
            <h3>TERMS OF APPOINTMENT: MEDICO-LEGAL SERVICES</h3>
        </div>

        <form id="contractForm">
            <div class="parties">
                <div class="party">
                    <h4>MEDICOMANAGE (PTY) LTD</h4>
                    <div class="form-group">
                        <label>Registration Number:</label>
                        <input type="text" id="companyReg" required>
                    </div>
                    <div class="form-group">
                        <label>Physical Address:</label>
                        <input type="text" id="companyAddress" required>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="companyEmail" required>
                    </div>
                    <p>(herein represented by Rina Polden, duly authorised)</p>
                </div>

                <div class="party">
                    <h4>ATTORNEY FIRM DETAILS</h4>
                    <div class="form-group">
                        <label>Name of Attorney Firm:</label>
                        <input type="text" id="attorneyFirm" required>
                    </div>
                    <div class="form-group">
                        <label>Registration Number:</label>
                        <input type="text" id="attorneyReg" required>
                    </div>
                    <div class="form-group">
                        <label>Physical Address:</label>
                        <input type="text" id="attorneyAddress" required>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="attorneyEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Authorized Representative:</label>
                        <input type="text" id="authorizedRep" required>
                    </div>
                </div>
            </div>

            <div class="contract-content">
                <h3>KEY TERMS & CONDITIONS</h3>
                <p><strong>FEES:</strong> R2,000.00 per hour plus VAT</p>
                <p><strong>INITIAL FEE:</strong> R8,000.00 plus VAT (credited against final invoice)</p>
                <p><strong>PAYMENT TERMS:</strong> 90 days from invoice date</p>
                
                <h3>CRITICAL PAYMENT PROTECTION</h3>
                <p><strong>RAF TRUST DISBURSEMENT PROTECTION:</strong> The Attorney shall NOT disburse any funds received in respect of the Client's claim to the Client, curator, or any third party before settling all outstanding invoices due to the Company.</p>
                
                <h3>PROFESSIONAL INDEPENDENCE</h3>
                <p>The Expert's primary duty is to the Court. The Expert shall remain independent and ethically compliant in accordance with HPCSA rules.</p>
                
                <h3>POPIA COMPLIANCE</h3>
                <p>The Attorney warrants that it has obtained all necessary informed consent from the Client to disclose personal and medical information to the Company.</p>
            </div>

            <div class="signature-section">
                <div class="form-group">
                    <label>SIGNED AT:</label>
                    <input type="text" id="signedAt" required>
                </div>
                <div class="form-group">
                    <label>DATE:</label>
                    <input type="date" id="signedOn" required>
                </div>

                <div class="signature-row">
                    <div class="signature-box">
                        <h4>Attorney Signature</h4>
                        <canvas class="signature-pad" id="attorneySignature"></canvas>
                        <button type="button" class="btn-clear" onclick="clearSignature('attorney')">Clear</button>
                        <div style="margin-top: 10px;">
                            <input type="text" id="attorneyName" placeholder="Print Name" required>
                            <input type="text" id="attorneyTitle" placeholder="Title" required>
                        </div>
                    </div>

                    <div class="signature-box">
                        <h4>MedicoManage Signature</h4>
                        <canvas class="signature-pad" id="companySignature"></canvas>
                        <button type="button" class="btn-clear" onclick="clearSignature('company')">Clear</button>
                        <div style="margin-top: 10px;">
                            <input type="text" value="Keith Stephen Polden" readonly>
                            <input type="text" value="Director" readonly>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button type="submit" class="btn-submit">Complete Agreement</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        // Simple signature functionality
        const pads = {};
        
        document.querySelectorAll('.signature-pad').forEach(canvas => {
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            canvas.addEventListener('mousedown', (e) => {
                isDrawing = true;
                ctx.beginPath();
                ctx.moveTo(e.offsetX, e.offsetY);
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (isDrawing) {
                    ctx.lineWidth = 2;
                    ctx.lineCap = 'round';
                    ctx.strokeStyle = '#000';
                    ctx.lineTo(e.offsetX, e.offsetY);
                    ctx.stroke();
                }
            });
            
            canvas.addEventListener('mouseup', () => isDrawing = false);
            
            pads[canvas.id] = ctx;
        });
        
        function clearSignature(type) {
            const canvas = document.getElementById(type + 'Signature');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        document.getElementById('contractForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Contract completed successfully! Data saved securely.');
        });
        
        // Set today's date
        document.getElementById('signedOn').value = new Date().toISOString().split('T')[0];
    </script>
</body>
</html>
